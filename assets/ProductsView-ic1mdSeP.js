import{a as m,f as w,b as o,d as t,F as _,h as g,i as d,t as a,o as c,j as b}from"./index-wpv6Vmjb.js";import{a as y}from"./axios-G2rPRu76.js";const x={class:"container"},k={class:"row py-3"},f={class:"col-md-6"},$=t("h2",null,"產品列表",-1),C={class:"table table-hover mt-4"},P=t("thead",null,[t("tr",null,[t("th",{width:"150"},"產品名稱"),t("th",{width:"120"},"原價"),t("th",{width:"120"},"售價"),t("th",{width:"150"},"是否啟用"),t("th",{width:"120"},"查看細節")])],-1),B={width:"150"},U={width:"120"},V={width:"120"},D={width:"150"},E=["onClick"],F=["onClick"],M={width:"120"},N=["onClick"],j={class:"col-md-6"},L=t("h2",null,"單一產品細節",-1),S={class:"card mb-3"},T=["src"],q={class:"card-body"},z={class:"card-title"},A={class:"badge bg-primary ms-2"},G={class:"card-text"},H={class:"card-text"},I={class:"d-flex"},J={class:"card-text me-2"},K={class:"card-text text-secondary"},O={class:"d-flex flex-wrap"},Q=["src"],R={key:1,class:"text-secondary"},Z={__name:"ProductsView",setup(W){const h="https://vue3-course-api.hexschool.io/v2",u="vue2023winter",r=m([]),e=m({}),p=()=>{const n=`${h}/api/${u}/admin/products`;y.get(n).then(i=>{r.value=i.data.products}).catch(i=>{alert(i.data.message)})},v=n=>{const i={data:{...n}};i.data.is_enabled=!i.data.is_enabled;const s=`${h}/api/${u}/admin/product/${n.id}`;y.put(s,i).then(()=>{p()}).catch(l=>{alert(l.data.message)})};return w(()=>{p()}),(n,i)=>(c(),o("div",x,[t("div",k,[t("div",f,[$,t("table",C,[P,t("tbody",null,[(c(!0),o(_,null,g(r.value,s=>(c(),o("tr",{key:s.id},[t("td",B,a(s.title),1),t("td",U,a(s.origin_price),1),t("td",V,a(s.price),1),t("td",D,[s.is_enabled?(c(),o("a",{key:0,href:"#",onClick:b(l=>v(s),["prevent"]),class:"text-success"},"啟用",8,E)):(c(),o("a",{key:1,href:"#",onClick:b(l=>v(s),["prevent"]),class:"text-danger"},"未啟用",8,F))]),t("td",M,[t("button",{type:"button",class:"btn btn-primary",onClick:l=>e.value=s}," 查看細節 ",8,N)])]))),128))])]),t("p",null,[d(" 目前有 "),t("span",null,a(r.value.length),1),d(" 項產品 ")])]),t("div",j,[L,e.value.id?(c(),o(_,{key:0},[t("div",S,[t("img",{src:e.value.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,T),t("div",q,[t("h5",z,[d(a(e.value.title)+" ",1),t("span",A,a(e.value.category),1)]),t("p",G,"商品描述："+a(e.value.description),1),t("p",H,"商品內容："+a(e.value.content),1),t("div",I,[t("p",J,a(e.value.price),1),t("p",K,[t("del",null,a(e.value.origin_price),1)]),d(" "+a(e.value.unit)+" / 元 ",1)])])]),t("div",O,[(c(!0),o(_,null,g(e.value.imagesUrl,s=>(c(),o("img",{key:s,src:s,alt:"",class:"mw-100 m-2"},null,8,Q))),128))])],64)):(c(),o("p",R,"請選擇一個商品查看"))])])]))}};export{Z as default};
